#include <iostream>
#include "DhcpMessage.h"

// здесь можно производить отладку
int main(){
    std::vector<uint8_t> dhcp_message_data = {
        0x02, 0x01, 0x06, 0x00, // op, htype, hlen, hops
        0x07, 0xd0, 0xd9, 0x0d, // xid
        0x00, 0x01, 0x00, 0x00, // secs (2), flags (2)
        0x00, 0x00, 0x00, 0x00, // ciaddr
        0xc0, 0xa8, 0x01, 0x0a, // yiaddr
        0xc0, 0xa8, 0x01, 0x01, // siaddr
        0x00, 0x00, 0x00, 0x00, // giaddr
        0x38, 0x01, 0x22, 0xe4, 0xb2, 0xa8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // chaddr (16)
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // sname
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // end sname
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // file
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ...
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // end file
        0x63, 0x82, 0x53, 0x63, 0x35, 0x01, 0x05, 0x36, 0x04, 0xc0, 0xa8, 0x1f, 0x01, 0x33, 0x04, 0x00, // options
        0x00, 0xa8, 0xc0, 0x3a,
        0x04, 0x00, 0x00, 0x54, 0x60, 0x3b, 0x04, 0x00, 0x00, 0x93, 0xa8, 0x01, 0x04, 0xff, 0xff, 0xff,
        0x00, 0x1c, 0x04, 0xc0, 0xa8, 0x1f, 0xff, 0x03, 0x04, 0xc0, 0xa8, 0x1f, 0x01, 0x06, 0x04, 0xc0,
        0xa8, 0x1f, 0x01, 0x0c, 0x0c, 0x69, 0x74, 0x2d, 0x6e, 0x6f, 0x74, 0x2d, 0x61, 0x2d, 0x70, 0x72,
        0x6f, 0x2b, 0x12, 0x6d, 0x69, 0x77, 0x69, 0x66, 0x69, 0x2d, 0x2d, 0x32, 0x2e, 0x30, 0x2e, 0x32,
        0x33, 0x2d, 0x31, 0x30, 0x31, 0xff
    };
    DhcpMessage dhcp_message(dhcp_message_data);
    std::cout << "DHCP server started\n";
    std::cout << dhcp_message.yiaddr.to_string() << "\n";
}
